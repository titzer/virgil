//@execute 0=29; 1=49; 2=49; 3=-31
type T #unboxed {
	case A(f: void -> int);
	case B(a: int, b: int);
}

def ts = [T.A(f1), T.A(f2), T.B(1, 1), T.B(-1, -1)];

def f1() -> int { return 1; }
def f2() -> int { return 2; }

def main(a: int) -> int {
	var s = 9;
	for (i < 20) {
		var u = [T.A(null), T.B(s, s)];
		s += count(ts[a]);
	}
	return s;
}

def count(t: T) -> int {
	match (t) {
		A(f) => return f();
		B(a, b) => return a + b;
	}
}