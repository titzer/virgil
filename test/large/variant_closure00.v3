//@execute 0=0; 2=1; 88=3828
class Object(field: int) { }

type X #unboxed {
	case Func(fn: int -> int);
	case Object(obj: Object);
}

def f1(arg: int) -> int { return 1; }
def f2(arg: int) -> int { return 2; }

def global = [X.Func(f1), X.Func(f2)];

def main(a: int) -> int {
	var s = 0;
	for (x in global) {
		match (x) {
			Func(f) =>	f(0);
			Object(o) =>	def x = o.field;
		}
	}

        for (i < a) {
		s += Object.new(i).field;
	}
	return s;
}
