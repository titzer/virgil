//@execute 0=0; 2=0; 12=0
class Object(field: int) {}

type X #unboxed {
	case Func(fn: int -> int);
	case Object(obj: Object);
}

def f1(arg: int) -> int { return 1; }
def f2(arg: int) -> int { return 2; }

def global = [X.Func(f1), X.Func(f2)];

def main(a: int) -> int {
	match (global[0]) {
		Func(f)   => f(0);
		Object(o) => def x = o.field;
	}

 	for (i < a) {
		X.Object(Object.new(i));
 	}	
	
	return 0;
}
