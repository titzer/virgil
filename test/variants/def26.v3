//@execute =!BoundsCheckException
type HH {
	case One(a: int);
}

def foo(a: int) -> HH {
	for (i < 3) ; // try to prevent inlining
	for (i < 5) ; // try to prevent inlining
	return x[a];
}

var a: u1;
var b: u1;
def x = Array<HH>.new(1);

def main() -> bool {
	a = foo(0).tag;
	b = foo(1).tag;
	return false;
}
