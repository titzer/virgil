//@execute 0=0; 1=3; 2=5
type T #unboxed {
	case A(f: void -> int);
	case B(x: int);
	case C(f: float);
}


def main(a: int) -> int {
	var ts = [T.A(f1(a, _)), T.B(2 + a), T.C(3.0f + float.!(a))];
	match (ts[a]) {
		A(f) => return f();
		B(x) => return x;
		C(f) => return int.!(f);
	}
}

def f1(x: int, v: void) -> int { return x; }
