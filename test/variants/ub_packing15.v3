//@execute 0=1; 1=3; 2=6; 3=8
packing MyPack(x: 4, y: 4): 8 = 0b_xxxx_yyyy;
packing MyCat(x: 4, y: 4, a: 4, b: 4): 16 = #concat(MyPack(x, y), MyPack(a, b));
type ADT #unboxed #packed {
    case A(a: u4, b: u4) #unboxed #packing MyPack(a,b);
    case B(c: u4, d: u4) #unboxed #packing MyPack(c,d);
    case C(a: u4, b:u4, c:u4, d:u4) #unboxed #packing MyCat(a, b, c, d);
}

def arr = [
    ADT.A(1, 2),
    ADT.A(3, 4),
    ADT.B(5, 6), 
    ADT.B(7, 8),
    ADT.C(1, 3, 5, 7),
    ADT.C(2, 4, 6, 8)
];


def main(a: int) -> int {
    match (arr[a]) {
        A(x, y) => return x;
        B(x, y) => return y;
        C(a, b, c, d) => return a;
    }
}