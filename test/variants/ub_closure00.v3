//@execute 0=1; 1=2; 2=3
type T #unboxed {
	case A(f: void -> int);
	case B(x: int);
	case C(f: float);
}

var ts = [T.A(f1), T.B(2), T.C(3.0f)];

def main(a: int) -> int {
	match (ts[a]) {
		A(f) => return f();
		B(x) => return x;
		C(f) => return int.!(f);
	}
}

def f1() -> int { return 1; }
