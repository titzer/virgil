//@execute 0=1; 1=1; 2=3; 3=4; 4=1; 5=1; 6=1; 7=8; 8=1; 9=10
type A #unboxed #packed {
    case One(a: u8, b: float, c: u7) #unboxed #packed;
    case Two(a: float, b: u15) #unboxed #packed;
}
def arr: Array<A> = [
    A.One(1, 2F, 3), 
    A.One(4, 5F, 1), 
    A.Two(7F, 8), 
    A.Two(9F, 10)
];

def main(a: int) -> int {
    match(a) {
        0 => return A.One.!(arr[0]).a;
        1 => return if(A.One.!(arr[0]).b == 2F, 1, 0);
        2 => return A.One.!(arr[0]).c;

        3 => return A.One.!(arr[1]).a;
        4 => return if(A.One.!(arr[1]).b == 5F, 1, 0);
        5 => return A.One.!(arr[1]).c;

        6 => return if(A.Two.!(arr[2]).a == 7F, 1, 0);
        7 => return A.Two.!(arr[2]).b;

        8 => return if(A.Two.!(arr[3]).a == 9F, 1, 0);
        9 => return A.Two.!(arr[3]).b;
        _ => return 42;
    }
}