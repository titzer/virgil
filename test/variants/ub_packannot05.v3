//@execute 0=12;1=34;2=112;3=156
packing P(x: 32): 32 = x;

type T #packed #unboxed {
	case A(x: int) #packing P(x) { def f() -> int { return x; } }
	case B(x: int) #packing P(x) { def f() -> int { return x * 2; } }

	def f() -> int;
}

def arr = [
	T.A(12),
	T.A(34),
	T.B(56),
	T.B(78)
];

def main(a: int) -> int {
	return arr[a].f();
}