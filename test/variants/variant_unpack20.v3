//@execute 0=3; 1=1; 2=3
enum E {
    A, B, C
}
type C (i1: u2, i2: E.set, i3: u2){ }

def main(a: int) -> int {
    def e = E.A|E.C;

    def c: C = C(0b11, e, 0b11);
    def u = int.unpack<C>(int.pack<C>(c));
    match (a) {
        0 => return u.i1; 
        1 => return if(u.i2==e, 1, 0); 
        2 => return u.i3; 
        _ => return 42;
    }
}