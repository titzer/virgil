//@execute 0=12;1=5;2=6;3=34;4=0
type T #unboxed #packed {
	case X(a: string) {
		def f() -> int { return a.length; }
	}
	case Y(b: int) {
		def f() -> int { return b; }
	}

	def f() -> int;
}

def arr = [
	T.Y(12),
	T.X("hello"),
	T.X("world!"),
	T.Y(34),
	T.X("")
];

def main(a: int) -> int {
	return arr[a].f();
}