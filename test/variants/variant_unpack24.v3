//@execute 0=3; 1=3; 2=5; 3=17; 4=5; 5=3; 6=3; 7=5; 8=1; 9=5; 10=3; 11=3; 12=5; 13=1; 14=5
type CSubu32 (i1: u2, i2: (u3, u5, u3), i3: u2){ }
type CU32 (i1: u2, i2: (u3, u32, u3), i3: u2){ }
type CSubu64 (i1: u2, i2: (u3, u45, u3), i3: u2){ }

def main(a: int) -> int {
    def origTSubu32: (u3, u5, u3) = (0b101, 0b10001, 0b101);
    def origTU32: (u3, u32, u3) = (0b101, 0b10000000000000000000000000000001, 0b101);
    def origTSubu64: (u3, u45, u3) = (0b101, 0b100000000000000000000000000000000000000000001, 0b101);

    // CSubu32 checks
    def csubu32: CSubu32 = CSubu32(0b11, origTSubu32, 0b11);
    def usubu32 = int.unpack<CSubu32>(int.pack<CSubu32>(csubu32));
    def newTSubu32: (u3, u5, u3) = csubu32.i2;

    // CU32 checks
    def cu32: CU32 = CU32(0b11, origTU32, 0b11);
    def uu32 = u43.unpack<CU32>(u43.pack<CU32>(cu32));
    def newTU32: (u3, u32, u3) = cu32.i2;

    // CSubu64 checks
    def csubu64: CSubu64 = CSubu64(0b11, origTSubu64, 0b11);
    def usubu64 = u56.unpack<CSubu64>(u56.pack<CSubu64>(csubu64));
    def newTSubu64: (u3, u45, u3) = csubu64.i2;

    match (a) {
        0 => return usubu32.i1;
        1 => return usubu32.i3;
        2 => return usubu32.i2.0;
        3 => return usubu32.i2.1;
        4 => return usubu32.i2.2; 
        5 => return uu32.i1; 
        6 => return uu32.i3; 
        7 => return uu32.i2.0;
        8 => return if(uu32.i2.1 == u32.view(0b10000000000000000000000000000001), 1, 0);
        9 => return uu32.i2.2;
        10 => return usubu64.i1; 
        11 => return usubu64.i3; 
        12 => return usubu64.i2.0;
        13 => return if(usubu64.i2.1 == 0b100000000000000000000000000000000000000000001, 1, 0);
        14 => return usubu64.i2.2;
        _ => return 42; 
    }
}