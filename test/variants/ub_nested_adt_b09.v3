//@execute 0=1; 1=2; 2=1; 3=4; 4=5; 5=0; 6=7; 7=1; 8=9; 9=0; 10=1; 11=0
type C(a: u13, b: u16)#unboxed #packed{}
type A #unboxed #packed {
    case One(a: C, c: bool) #unboxed #packed;
    case Two(a: u29, b: bool) #unboxed #packed;
    case Three(a: bool) #unboxed #packed;
}
def arr: Array<A> = [
    A.One(C(1, 2), true), 
    A.One(C(4, 5), false), 
    A.Two(7, true), 
    A.Two(9, false), 
    A.Three(true), 
    A.Three(false)
];

def main(a: int) -> int {
    match(a) {
        0 => return A.One.!(arr[0]).a.a;
        1 => return A.One.!(arr[0]).a.b;
        2 => return int.view<bool>(A.One.!(arr[0]).c);

        3 => return A.One.!(arr[1]).a.a;
        4 => return A.One.!(arr[1]).a.b;
        5 => return int.view<bool>(A.One.!(arr[1]).c);

        6 => return A.Two.!(arr[2]).a;
        7 => return int.view<bool>(A.Two.!(arr[2]).b);

        8 => return A.Two.!(arr[3]).a;
        9 => return int.view<bool>(A.Two.!(arr[3]).b);

        10 => return int.view<bool>(A.Three.!(arr[4]).a);

        11 => return int.view<bool>(A.Three.!(arr[5]).a);
        _ => return 42;
    }
}