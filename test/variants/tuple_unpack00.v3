//@execute =true;
enum E {
    A, B
}

def main() -> bool {
    // E has 2 values: A=0b01, B=0b10
    // Each enum set takes 2 bits
    // Tuple of 4 enum sets takes 8 bits total

    def e1: E.set = E.A | E.B;  // 0b11
    def e2: E.set = E.A;         // 0b01
    def e3: E.set = E.B;         // 0b10

    // Test 1: (e1, e1, e1, e1)
    def expected1: int = 0b11111111;
    if(expected1 != int.pack<(E.set, E.set, E.set, E.set)>(int.unpack<(E.set, E.set, E.set, E.set)>(expected1))) { def x = 1/0; };

    // Test 2: (e2, e2, e2, e2)
    def expected2: int = 0b01010101;
    if(expected2 != int.pack<(E.set, E.set, E.set, E.set)>(int.unpack<(E.set, E.set, E.set, E.set)>(expected2))) { def x = 1/0; };

    // Test 3: (e3, e3, e3, e3)
    def expected3: int = 0b10101010;
    if(expected3 != int.pack<(E.set, E.set, E.set, E.set)>(int.unpack<(E.set, E.set, E.set, E.set)>(expected3))) { def x = 1/0; };

    // Test 4: (e1, e2, e3, e1)
    def expected4: int = 0b11011011;
    // def set: E.set = int.unpack<(E.set, E.set, E.set, E.set)>(expected4);
    // def v = int.pack<(E.set, E.set, E.set, E.set)>(set);
    // return v;
    if(expected4 != int.pack<(E.set, E.set, E.set, E.set)>(int.unpack<(E.set, E.set, E.set, E.set)>(expected4))) { def x = 1/0; };


    return true;
}