//@execute 0=3; 1=7; 2=11; 3=15
type ADT #unboxed #packed {
    case A(a: u4, b: u4) #unboxed #packed; 
    case B(c: u4, d: u4) #unboxed #packed; 
}

def arr = [
    ADT.A(1, 2),
    ADT.A(3, 4),
    ADT.B(5, 6), 
    ADT.B(7, 8)
]; 

def main(a: int) -> int {
    def i1 = ADT.A.!(arr[0]);
    def i2 = ADT.A.!(arr[1]);
    def i3 = ADT.B.!(arr[2]);
    def i4 = ADT.B.!(arr[3]);

    match (a) {
        0 => return i1.a + i1.b;
        1 => return i2.a + i2.b;
        2 => return i3.c + i3.d;
        3 => return i4.c + i4.d;
        _ => return 42;
    }
}