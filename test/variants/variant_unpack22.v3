//@execute 0=3; 1=3; 2=5; 3=17; 4=5
enum E {
    A, B, C
}
type C (i1: u2, i2: (u3, u5, u3), i3: u2){ }

def main(a: int) -> int {
    def origT: (u3, u5, u3) = (0b101, 0b10001, 0b101);
    def c: C = C(0b11, origT, 0b11);

    def u = int.unpack<C>(int.pack<C>(c));
    def newT: (u3, u5, u3) = c.i2;

    match (a) {
        0 => return u.i1; 
        1 => return u.i3;
        2 => return newT.0;
        3 => return newT.1; 
        4 => return newT.2;
        _ => return 42;
    }
}