//@execute 0=5;1=10;2=0;3=0;4=!NullCheckException;5=!NullCheckException
type T #unboxed #packed {
	case X(a: string) {
		def f() -> int { return a.length; }
	}
	case Y(b: string) {
		def f() -> int { return b.length * 2; }
	}

	def f() -> int;
}

def arr = [
	T.X("hello"),
	T.Y("world"),
	T.X(""),
	T.Y(""),
	T.X(null),
	T.Y(null)
];

def main(a: int) -> int {
	return arr[a].f();
}