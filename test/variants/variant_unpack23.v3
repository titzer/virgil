//@execute 0=3; 1=3; 2=5; 3=-15; 4=5; 5=3; 6=3; 7=5; 8=1; 9=5; 10=3; 11=3; 12=5; 13=1; 14=5
type CSubi32 (i1: u2, i2: (u3, i5, u3), i3: u2){ }
type CI32 (i1: u2, i2: (u3, int, u3), i3: u2){ }
type CSubi64 (i1: u2, i2: (u3, i45, u3), i3: u2){ }

def main(a: int) -> int {
    def origTSubi32: (u3, i5, u3) = (0b101, 0b10001, 0b101);
    def origTI32: (u3, int, u3) = (0b101, 0b10000000000000000000000000000001, 0b101);
    def origTSubi64: (u3, i45, u3) = (0b101, 0b100000000000000000000000000000000000000000001, 0b101);
    
    // CSubi32 checks
    def csubi32: CSubi32 = CSubi32(0b11, origTSubi32, 0b11);
    def usubi32 = int.unpack<CSubi32>(int.pack<CSubi32>(csubi32));
    def newTSubi32: (u3, i5, u3) = csubi32.i2;

    // CI32 checks
    def ci32: CI32 = CI32(0b11, origTI32, 0b11);
    def ui32 = u43.unpack<CI32>(u43.pack<CI32>(ci32));
    def newTI32: (u3, int, u3) = ci32.i2;

    // CSubi64 checks
    def csubi64: CSubi64 = CSubi64(0b11, origTSubi64, 0b11);
    def usubi64 = u56.unpack<CSubi64>(u56.pack<CSubi64>(csubi64));
    def newTSubi64: (u3, i45, u3) = csubi64.i2;

    match (a) {
        0 => return usubi32.i1;
        1 => return usubi32.i3;
        2 => return usubi32.i2.0;
        3 => return usubi32.i2.1;
        4 => return usubi32.i2.2; 
        5 => return ui32.i1; 
        6 => return ui32.i3; 
        7 => return ui32.i2.0;
        8 => return if(ui32.i2.1 == int.view(0b10000000000000000000000000000001), 1, 0);
        9 => return ui32.i2.2;
        10 => return usubi64.i1; 
        11 => return usubi64.i3; 
        12 => return usubi64.i2.0;
        13 => return if(usubi64.i2.1 == i45.view(0b100000000000000000000000000000000000000000001), 1, 0);
        14 => return usubi64.i2.2;
        _ => return 42; 
    }
}