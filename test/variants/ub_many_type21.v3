//@execute 0=1; 1=1; 2=2; 3=3; 4=1; 5=4; 6=1; 7=-5; 8=1; 9=1; 10=-6; 11=1
enum E {
    X, Y, Z
}
type A #unboxed #packed {
    case One(a: u13, b: E.set, c: u13) #unboxed #packed;
    case Two(a: E.set, b: i23, c: E.set) #unboxed #packed;
    case Three(a: E.set, b: i24) #unboxed #packed;
    case Four(b: i24, c: E.set) #unboxed #packed;
    case Five(b: i22, c: E.set) #unboxed #packed;
}

def arr: Array<A> = [
    A.One(1, E.X|E.Z, 2), 
    A.One(3, E.Y, 4), 
    A.Two(E.Z|E.X, -5, E.X|E.Y), 
    A.Two(E.Y, -6, E.Z|E.X)
];

def main(a: int) -> int {
    match(a) {
        0 => return A.One.!(arr[0]).a;
        1 => return int.view<bool>(A.One.!(arr[0]).b == (E.X|E.Z));
        2 => return A.One.!(arr[0]).c;

        3 => return A.One.!(arr[1]).a;
        4 => return int.view<bool>(A.One.!(arr[1]).b == E.Y);
        5 => return A.One.!(arr[1]).c;

        6 => return int.view<bool>(A.Two.!(arr[2]).a == (E.X|E.Z));
        7 => return A.Two.!(arr[2]).b;
        8 => return int.view<bool>(A.Two.!(arr[2]).c == (E.X|E.Y));

        9 => return int.view<bool>(A.Two.!(arr[3]).a == E.Y);
        10 => return A.Two.!(arr[3]).b;
        11 => return int.view<bool>(A.Two.!(arr[3]).c == (E.X|E.Z));
        _ => return 42;
    }
}