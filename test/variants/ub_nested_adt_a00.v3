//@execute 0=1; 1=2; 2=-3; 3=4; 4=5; 5=-1; 6=7; 7=-8; 8=9; 9=-10
type C(a: u16, b: i7)  #unboxed #packed {}
type A #unboxed #packed {
    case One(a: u8, b: C) #unboxed #packed;
    case Two(a: u16, b: i15) #unboxed #packed;
}
def arr: Array<A> = [
    A.One(1, C(2, -3)), 
    A.One(4, C(5, -1)), 
    A.Two(7, -8), 
    A.Two(9, -10)
];

def main(a: int) -> int {
    match(a) {
        0 => return A.One.!(arr[0]).a;
        1 => return A.One.!(arr[0]).b.a;
        2 => return A.One.!(arr[0]).b.b;

        3 => return A.One.!(arr[1]).a;
        4 => return A.One.!(arr[1]).b.a;
        5 => return A.One.!(arr[1]).b.b;

        6 => return A.Two.!(arr[2]).a;
        7 => return A.Two.!(arr[2]).b;

        8 => return A.Two.!(arr[3]).a;
        9 => return A.Two.!(arr[3]).b;
        _ => return 42;
    }
}