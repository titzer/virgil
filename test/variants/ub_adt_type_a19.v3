//@execute 0=1; 1=0; 2=2; 3=3; 4=1; 5=4; 6=2; 7=-5; 8=0; 9=1; 10=-6; 11=2
enum E {
    X, Y, Z
}
type C1(a: E, b: u15) #unboxed #packed{}
type C2(a: E, b: i26) #unboxed #packed{}
type A #unboxed #packed {
    case One(a: u13, b: C1) #unboxed #packed;
    case Two(a: C2, c: E) #unboxed #packed;
}

def arr: Array<A> = [
    A.One(1, C1(E.X, 2)), 
    A.One(3, C1(E.Y, 4)), 
    A.Two(C2(E.Z, -5), E.X), 
    A.Two(C2(E.Y, -6), E.Z)
];

def main(a: int) -> int {
    match(a) {
        0 => return A.One.!(arr[0]).a;
        1 => return A.One.!(arr[0]).b.a.tag;
        2 => return A.One.!(arr[0]).b.b;

        3 => return A.One.!(arr[1]).a;
        4 => return A.One.!(arr[1]).b.a.tag;
        5 => return A.One.!(arr[1]).b.b;

        6 => return A.Two.!(arr[2]).a.a.tag;
        7 => return A.Two.!(arr[2]).a.b;
        8 => return A.Two.!(arr[2]).c.tag;

        9 => return A.Two.!(arr[3]).a.a.tag;
        10 => return A.Two.!(arr[3]).a.b;
        11 => return A.Two.!(arr[3]).c.tag;
        _ => return 42;
    }
}