//@execute 0=5;1=10;2=6;3=0;4=0;5=1;6=!NullCheckException;7=!NullCheckException;8=!NullCheckException
type T #unboxed #packed {
	case X(a: string) {
		def f() -> int { return a.length; }
	}
	case Y(b: string) {
		def f() -> int { return b.length * 2; }
	}
	case Z(b: string) {
		def f() -> int { return b.length + 1; }
	}

	def f() -> int;
}

def arr = [
	T.X("hello"),
	T.Y("world"),
	T.Z("hello"),
	T.X(""),
	T.Y(""),
	T.Z(""),
	T.X(null),
	T.Y(null),
	T.Z(null)
];

def main(a: int) -> int {
	return arr[a].f();
}