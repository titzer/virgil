//@execute 0=1; 1=0; 2=1; 3=0; 4=1; 5=0; 6=1; 7=0; 8=0; 9=1
type A #unboxed #packed {
    case One(a: bool, b: (bool, bool)) #unboxed #packed;
    case Two(a: bool, b: bool) #unboxed #packed;
}
def arr: Array<A> = [
    A.One(true,  (false, true)), 
    A.One(false, (true, false)), 
    A.Two(true, false), 
    A.Two(false, true)
];

def main(a: int) -> int {
    match(a) {
        0 => return int.view<bool>(A.One.!(arr[0]).a);
        1 => return int.view<bool>(A.One.!(arr[0]).b.0);
        2 => return int.view<bool>(A.One.!(arr[0]).b.1);

        3 => return int.view<bool>(A.One.!(arr[1]).a);
        4 => return int.view<bool>(A.One.!(arr[1]).b.0);
        5 => return int.view<bool>(A.One.!(arr[1]).b.1);

        6 => return int.view<bool>(A.Two.!(arr[2]).a);
        7 => return int.view<bool>(A.Two.!(arr[2]).b);

        8 => return int.view<bool>(A.Two.!(arr[3]).a);
        9 => return int.view<bool>(A.Two.!(arr[3]).b);
        _ => return 42;
    }
}