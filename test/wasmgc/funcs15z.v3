//@execute 0=12; 1=15; 2=29; 3=29; 4=17
// 0 ok, 1 fails, 2 fails, 3 fails
// 0=12; 1=13; 2=12

// Test various function subsumptions to see how they differ

class A {
	def m() -> int { return 11; }
}

class B extends A {
	def m() -> int { return 12; }
}

def fa(x: A) -> int { return x.m(); }
def fai(x: A, j: int) -> int { return x.m() + j; }
def fa2(x: A) -> int { return x.m() + 1; }
def fb(x: B) -> int { return x.m() + 5; }

class Cls {
	def fca(x: A) -> int { return x.m() + 17; }
}

def main(i: int) -> int {
	var arr = Array<B -> int>.new(1);
	var cls = Cls.new();
	if (i == 0) { arr[0] = fa; }
	else if (i == 1) { arr[0] = fai(_, 3); }
	else if (i == 2) { arr[0] = cls.fca; }
	else if (i == 3) { arr[0] = Cls.fca(cls, _); }
	else { arr[0] = fb; }
	return arr[0](B.new());
}
