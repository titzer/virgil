//@execute 0=true; 1=true; 2=false; 3=true; 4=true; 5=false; 6=false
layout A {
	+0	f:	int;
	+4	g:	int;
	=8;
}
var rng: Range<byte>;
var r: Ref<A>;
def main(a: int) -> bool {
	rng = CiRuntime.forgeRange<byte>(Pointer.NULL + 1024, A.size);
	r = Ref<A>.of(rng);
	var p = Pointer.atField(r.f), q: Pointer;
	if (a == 0) q = Pointer.atRef(r);
	if (a == 1) q = Pointer.atField(r.f);
	if (a == 2) q = Pointer.atField(r.g);
	if (a == 3) q = Pointer.atElement(rng, 0);
	if (a == 4) q = Pointer.atContents(rng);
//TODO	if (a == 5) q = Pointer.atEnd(rng);
	return p == q;
}
