//@execute 0=true; 1=true
class A {
    def a = 1;
    def b = 2;
}

def L = [A.new(), A.new()];
def p(a: int) -> long {
    match (a) {
        0 => return long.view<Pointer>(Pointer.atObject(L[0]));
        1 => return long.view<Pointer>(Pointer.atObject(L[1]));
        _ => return 42;
    }
}

def main(a: int) -> bool {
    match (a) {
        0 => return long.view<Pointer>(Pointer.atObject(L[0])) == p(0);
        1 => return long.view<Pointer>(Pointer.atObject(L[1])) == p(1);
        _ => return false;
    }

}