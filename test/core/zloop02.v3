//@execute 0=1111; 1=2222
class A(var x: int, var y: int) {
	def gx() -> int { return x; }
	def gy() -> int { return y; }
}

def as = [A.new(3, 4), A.new(-1, 1)];

def main(a: int) -> int {
	var x0 = 1, x1 = 10, x2 = 100, x3 = 1000;
	var o = as[a];
	for (i < 3) {
		for (j = o.gx(); j < o.gy(); j++) {
			if (i == j) x0 = 2;
			if (i == j) x1 = 20;
			if (i == j) x2 = 200;
			if (i == j) x3 = 2000;
			foo((x0, x1, x2, x3));
		}
	}
	{
		// cause spills
		foo((
			(x0 + 1, x0 + 2, x0 + 3, x0 + 4),
			(x1 + 1, x1 + 2, x1 + 3, x1 + 4),
			(x2 + 1, x2 + 2, x2 + 3, x2 + 4),
			(x3 + 1, x3 + 2, x3 + 3, x3 + 4)
		));
	}
	foo((x1, x2, x3, x0));
	return x0 + x1 + x2 + x3;
}

def foo<T>(x: T) {
	var d: T;
	if (x == d) var x = 1/0;
}
