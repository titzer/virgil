//@execute (0, 1, 2, 3)=4; (1, 1, 2, 3)=-1; (2, 1, 2, 3)=4; (3, 1, 2, 4)=4; (4, 12, 2, 1)=24
class A {
	var x: int;
	new(x) { }
	def f(i: int) -> int { return x - i; }
	def g(i: int) -> int { return x + i; }
}

def main(which: int, x: int, y: int, z: int) -> int {
	var a: A;
	var callf: bool;
	var callg: bool;
	match (which) {
		0 => { a = A.new(x); callf = false; callg = true;  }
		1 => { a = A.new(y); callf = true;  callg = false; }
		2 => { a = A.new(x); callf = false; callg = true;  }
		3 => { a = A.new(y); callf = true;  callg = true; }
		_ => { a = A.new(x); callf = true;  callg = true;  }
	}
	return if(callf, a.f(z)) + if(callg, a.g(z));
}
