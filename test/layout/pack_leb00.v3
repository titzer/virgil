//@execute 0=0; 1=1; 127=127; 128=384; 2789=5605; 12988=26044; 65000=261096; 65535=262143
def main(x: u16) -> u24 {
	var x0 = u7.view(x);
	var x1 = u7.view(x >> 7);
	var x2 = u7.view(x >> 14);

	if (x <= u7.max) {
		return x0;
	} else if (x <= u14.max) {
		var b0 = u8.pack((1u1, x0));
		var b1 = u8.pack((0u1, x1));
		return u16.pack((b1, b0));
	} else {
		var b0 = u8.pack((1u1, x0));
		var b1 = u8.pack((1u1, x1));
		var b2 = u8.pack((0u1, x2));
		return u24.pack((b2, b1, b0));
	}
}
